{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/sean/Projects/dayscore/front/pages/signup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useCallback, useEffect } from 'react';\nimport Head from 'next/head';\nimport { Form, Input, Select, Checkbox, Button, PageHeader } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router from 'next/router';\nimport AppLayout from '../components/AppLayout';\nimport { SIGN_UP_REQUEST } from '../reducers/user';\nconst FormWrapper = styled(Form)`\n  margin-top: 20px;\n`;\nconst HeaderWrapper = styled(PageHeader)`\n  border: 1px solid rgb(235, 237, 240);\n  margin: 10px;\n`;\n\nconst Signup = () => {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const {\n    signUpLoading,\n    me,\n    signUpDone,\n    signUpError\n  } = useSelector(state => state.user);\n  useEffect(() => {\n    if (me) {\n      alert('로그인 상태입니다. 메인 페이지로 이동합니다.');\n      Router.push('/');\n    }\n  }, [me && me.id]);\n  useEffect(() => {\n    if (signUpDone) {\n      Router.replace('/');\n    }\n  }, [signUpDone]);\n  useEffect(() => {\n    if (signUpError) {\n      alert(signUpError);\n    }\n  }, [signUpError]);\n  const onFinish = useCallback(values => {\n    console.log('Received values of form: ', values);\n    const {\n      email\n    } = values;\n    const {\n      password\n    } = values;\n    const {\n      nickname\n    } = values;\n    return dispatch({\n      type: SIGN_UP_REQUEST,\n      data: {\n        email,\n        password,\n        nickname\n      }\n    });\n  }, []);\n  const formItemLayout = {\n    labelCol: {\n      xs: {\n        span: 12\n      },\n      sm: {\n        span: 4\n      }\n    },\n    wrapperCol: {\n      xs: {\n        span: 12\n      },\n      sm: {\n        span: 8\n      }\n    }\n  };\n  const tailFormItemLayout = {\n    wrapperCol: {\n      xs: {\n        span: 12,\n        offset: 0\n      },\n      sm: {\n        span: 8,\n        offset: 4\n      }\n    }\n  };\n\n  const prefixSelector = /*#__PURE__*/_jsxDEV(Form.Item, {\n    name: \"prefix\",\n    noStyle: true,\n    children: /*#__PURE__*/_jsxDEV(Select, {\n      style: {\n        width: 70\n      },\n      children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n        value: \"010\",\n        children: \"010\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n        value: \"011\",\n        children: \"011\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n        charSet: \"utf-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppLayout, {\n      children: [/*#__PURE__*/_jsxDEV(HeaderWrapper, {\n        title: \"\\uD68C\\uC6D0\\uAC00\\uC785\",\n        subTitle: \"\\uB0B4 \\uC778\\uC0DD\\uC758 \\uC810\\uC218\\uB97C \\uC62C\\uB824\\uBCF4\\uC138\\uC694. \\uD83D\\uDE06\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormWrapper, _objectSpread(_objectSpread({}, formItemLayout), {}, {\n        form: form,\n        name: \"register\",\n        onFinish: onFinish,\n        scrollToFirstError: true,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"email\",\n          label: \"\\uC774\\uBA54\\uC77C\",\n          rules: [{\n            type: 'email',\n            message: '유효한 이메일이 아닙니다!'\n          }, {\n            required: true,\n            message: '이메일을 입력해주세요!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"password\",\n          label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n          rules: [{\n            required: true,\n            message: '비밀번호를 입력해주세요!'\n          }],\n          hasFeedback: true,\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"confirm\",\n          label: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n          dependencies: ['password'],\n          hasFeedback: true,\n          rules: [{\n            required: true,\n            message: '비밀번호를 확인해주세요!'\n          }, ({\n            getFieldValue\n          }) => ({\n            validator(_, value) {\n              if (!value || getFieldValue('password') === value) {\n                return Promise.resolve();\n              }\n\n              return Promise.reject(new Error('비밀번호가 서로 일치하지 않습니다!'));\n            }\n\n          })],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"nickname\",\n          label: \"\\uB2C9\\uB124\\uC784\",\n          tooltip: \"\\uB2E4\\uB978 \\uC0AC\\uC6A9\\uC790\\uAC00 \\uC5B4\\uB5BB\\uAC8C \\uBD88\\uB7EC\\uC8FC\\uAE38 \\uC6D0\\uD558\\uB098\\uC694?\",\n          rules: [{\n            required: true,\n            message: '닉네임을 입력해주세요!',\n            whitespace: true\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"phone\",\n          label: \"\\uC5F0\\uB77D\\uCC98\",\n          rules: [{\n            required: true,\n            message: '연락처를 입력해주세요!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            addonBefore: prefixSelector,\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, _objectSpread(_objectSpread({\n          name: \"agreement\",\n          valuePropName: \"checked\",\n          rules: [{\n            validator: (_, value) => value ? Promise.resolve() : Promise.reject(new Error('약관에 동의해주세요!'))\n          }]\n        }, tailFormItemLayout), {}, {\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            children: [\"\\uD574\\uB2F9 \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"\",\n              children: \"\\uC57D\\uAD00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 18\n            }, this), \"\\uC744 \\uC77D\\uC5C8\\uC73C\\uBA70 \\uC774\\uC5D0 \\uB3D9\\uC758\\uD569\\uB2C8\\uB2E4.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, _objectSpread(_objectSpread({}, tailFormItemLayout), {}, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            loading: signUpLoading,\n            children: \"\\uAC00\\uC785\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }), void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nexport default Signup;","map":{"version":3,"sources":["/Users/sean/Projects/dayscore/front/pages/signup.js"],"names":["React","useCallback","useEffect","Head","Form","Input","Select","Checkbox","Button","PageHeader","styled","useDispatch","useSelector","Router","AppLayout","SIGN_UP_REQUEST","FormWrapper","HeaderWrapper","Signup","form","useForm","dispatch","signUpLoading","me","signUpDone","signUpError","state","user","alert","push","id","replace","onFinish","values","console","log","email","password","nickname","type","data","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","prefixSelector","width","message","required","getFieldValue","validator","_","value","Promise","resolve","reject","Error","whitespace"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect } from 'react';\nimport Head from 'next/head';\nimport { Form, Input, Select, Checkbox, Button, PageHeader } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router from 'next/router';\nimport AppLayout from '../components/AppLayout';\nimport { SIGN_UP_REQUEST } from '../reducers/user';\n\nconst FormWrapper = styled(Form)`\n  margin-top: 20px;\n`;\n\nconst HeaderWrapper = styled(PageHeader)`\n  border: 1px solid rgb(235, 237, 240);\n  margin: 10px;\n`;\n\nconst Signup = () => {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const { signUpLoading, me, signUpDone, signUpError } = useSelector((state) => state.user);\n\n  useEffect(() => {\n    if (me) {\n      alert('로그인 상태입니다. 메인 페이지로 이동합니다.');\n      Router.push('/');\n    }\n  }, [me && me.id]);\n\n  useEffect(() => {\n    if (signUpDone) {\n      Router.replace('/');\n    }\n  }, [signUpDone]);\n\n  useEffect(() => {\n    if (signUpError) {\n      alert(signUpError);\n    }\n  }, [signUpError]);\n\n  const onFinish = useCallback((values) => {\n    console.log('Received values of form: ', values);\n    const { email } = values;\n    const { password } = values;\n    const { nickname } = values;\n    return dispatch({\n      type: SIGN_UP_REQUEST,\n      data: {\n        email,\n        password,\n        nickname,\n      },\n    });\n  }, []);\n\n  const formItemLayout = {\n    labelCol: {\n      xs: {\n        span: 12,\n      },\n      sm: {\n        span: 4,\n      },\n    },\n    wrapperCol: {\n      xs: {\n        span: 12,\n      },\n      sm: {\n        span: 8,\n      },\n    },\n  };\n\n  const tailFormItemLayout = {\n    wrapperCol: {\n      xs: {\n        span: 12,\n        offset: 0,\n      },\n      sm: {\n        span: 8,\n        offset: 4,\n      },\n    },\n  };\n\n  const prefixSelector = (\n    <Form.Item name=\"prefix\" noStyle>\n      <Select\n        style={{\n          width: 70,\n        }}\n      >\n        <Select.Option value=\"010\">010</Select.Option>\n        <Select.Option value=\"011\">011</Select.Option>\n      </Select>\n    </Form.Item>\n  );\n\n  return (\n    <>\n      <Head>\n        <meta charSet=\"utf-8\" />\n        <title>회원가입</title>\n      </Head>\n      <AppLayout>\n        <HeaderWrapper\n          title=\"회원가입\"\n          subTitle=\"내 인생의 점수를 올려보세요. 😆\"\n        />\n        <FormWrapper\n          {...formItemLayout}\n          form={form}\n          name=\"register\"\n          onFinish={onFinish}\n          scrollToFirstError\n        >\n          <Form.Item\n            name=\"email\"\n            label=\"이메일\"\n            rules={[\n              {\n                type: 'email',\n                message: '유효한 이메일이 아닙니다!',\n              },\n              {\n                required: true,\n                message: '이메일을 입력해주세요!',\n              },\n            ]}\n          >\n            <Input />\n          </Form.Item>\n\n          <Form.Item\n            name=\"password\"\n            label=\"비밀번호\"\n            rules={[\n              {\n                required: true,\n                message: '비밀번호를 입력해주세요!',\n              },\n            ]}\n            hasFeedback\n          >\n            <Input.Password />\n          </Form.Item>\n\n          <Form.Item\n            name=\"confirm\"\n            label=\"비밀번호 확인\"\n            dependencies={['password']}\n            hasFeedback\n            rules={[\n              {\n                required: true,\n                message: '비밀번호를 확인해주세요!',\n              },\n              ({ getFieldValue }) => ({\n                validator(_, value) {\n                  if (!value || getFieldValue('password') === value) {\n                    return Promise.resolve();\n                  }\n\n                  return Promise.reject(new Error('비밀번호가 서로 일치하지 않습니다!'));\n                },\n              }),\n            ]}\n          >\n            <Input.Password />\n          </Form.Item>\n\n          <Form.Item\n            name=\"nickname\"\n            label=\"닉네임\"\n            tooltip=\"다른 사용자가 어떻게 불러주길 원하나요?\"\n            rules={[\n              {\n                required: true,\n                message: '닉네임을 입력해주세요!',\n                whitespace: true,\n              },\n            ]}\n          >\n            <Input />\n          </Form.Item>\n\n          <Form.Item\n            name=\"phone\"\n            label=\"연락처\"\n            rules={[\n              {\n                required: true,\n                message: '연락처를 입력해주세요!',\n              },\n            ]}\n          >\n            <Input\n              addonBefore={prefixSelector}\n              style={{\n                width: '100%',\n              }}\n            />\n          </Form.Item>\n\n          <Form.Item\n            name=\"agreement\"\n            valuePropName=\"checked\"\n            rules={[\n              {\n                validator: (_, value) => (value ? Promise.resolve() : Promise.reject(new Error('약관에 동의해주세요!'))),\n              },\n            ]}\n            {...tailFormItemLayout}\n          >\n            <Checkbox>\n              해당 <a href=\"\">약관</a>을 읽었으며 이에 동의합니다.\n            </Checkbox>\n          </Form.Item>\n          <Form.Item {...tailFormItemLayout}>\n            <Button type=\"primary\" htmlType=\"submit\" loading={signUpLoading}>\n              가입하기\n            </Button>\n          </Form.Item>\n        </FormWrapper>\n      </AppLayout>\n    </>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}