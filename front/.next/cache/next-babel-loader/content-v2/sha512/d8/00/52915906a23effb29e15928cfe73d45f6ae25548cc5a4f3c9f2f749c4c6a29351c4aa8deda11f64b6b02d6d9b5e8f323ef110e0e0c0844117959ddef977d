{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"/Users/sean/Projects/dayscore/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"/Users/sean/Projects/dayscore/front/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/sean/Projects/dayscore/front/components/FollowList.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 70%;\\n  margin: 10px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState } from 'react';\nimport { List, message, Avatar, Spin, Divider } from 'antd';\nimport reqwest from 'reqwest';\nimport WindowScroller from 'react-virtualized/dist/commonjs/WindowScroller';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport VList from 'react-virtualized/dist/commonjs/List';\nimport InfiniteLoader from 'react-virtualized/dist/commonjs/InfiniteLoader';\nimport { UserOutlined } from \"@ant-design/icons\";\nimport styled from 'styled-components';\nvar Wrapper = styled.div(_templateObject());\n_c = Wrapper;\nvar fakeDataUrl = 'https://randomuser.me/api/?results=5&inc=name,gender,email,nat&noinfo';\n\nvar FollowList = function FollowList(_ref) {\n  _s();\n\n  var header = _ref.header,\n      followInfo = _ref.followInfo;\n\n  var _useState = useState([]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var loadedRowsMap = {};\n  useEffect(function () {\n    fetchData(function (res) {\n      setData(res.results);\n    });\n  }, []);\n\n  var fetchData = function fetchData(callback) {\n    reqwest({\n      url: fakeDataUrl,\n      type: 'json',\n      method: 'get',\n      contentType: 'application/json',\n      success: function success(res) {\n        callback(res);\n      }\n    });\n  };\n\n  var handleInfiniteOnLoad = function handleInfiniteOnLoad(_ref2) {\n    var startIndex = _ref2.startIndex,\n        stopIndex = _ref2.stopIndex;\n    setLoading(true);\n\n    for (var i = startIndex; i <= stopIndex; i++) {\n      // 1 means loading\n      loadedRowsMap[i] = 1;\n    }\n\n    if (data.length > 19) {\n      message.warning('Virtualized List loaded all');\n      setLoading(false);\n      return;\n    }\n\n    fetchData(function (res) {\n      setData([].concat(_toConsumableArray(data), [res.results]));\n      setLoading(false);\n    });\n  };\n\n  var isRowLoaded = function isRowLoaded(_ref3) {\n    var index = _ref3.index;\n    return !!loadedRowsMap[index];\n  };\n\n  var renderItem = function renderItem(_ref4) {\n    var index = _ref4.index,\n        key = _ref4.key,\n        style = _ref4.style;\n    var item = data[index];\n    return /*#__PURE__*/_jsxDEV(List.Item, {\n      style: style,\n      children: [/*#__PURE__*/_jsxDEV(List.Item.Meta, {\n        avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n          icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 43\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }, _this),\n        title: \"a\",\n        description: \"b\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uC5B8\\uD314\\uB85C\\uC6B0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, _this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, _this);\n  };\n\n  var vlist = function vlist(_ref5) {\n    var height = _ref5.height,\n        isScrolling = _ref5.isScrolling,\n        onChildScroll = _ref5.onChildScroll,\n        scrollTop = _ref5.scrollTop,\n        onRowsRendered = _ref5.onRowsRendered,\n        width = _ref5.width;\n    return /*#__PURE__*/_jsxDEV(VList, {\n      autoHeight: true,\n      height: height,\n      isScrolling: isScrolling,\n      onScroll: onChildScroll,\n      overscanRowCount: 2,\n      rowCount: data.length,\n      rowHeight: 73,\n      rowRenderer: renderItem,\n      onRowsRendered: onRowsRendered,\n      scrollTop: scrollTop,\n      width: width\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, _this);\n  };\n\n  var autoSize = function autoSize(_ref6) {\n    var height = _ref6.height,\n        isScrolling = _ref6.isScrolling,\n        onChildScroll = _ref6.onChildScroll,\n        scrollTop = _ref6.scrollTop,\n        onRowsRendered = _ref6.onRowsRendered;\n    return /*#__PURE__*/_jsxDEV(AutoSizer, {\n      disableHeight: true,\n      children: function children(_ref7) {\n        var width = _ref7.width;\n        return vlist({\n          height: height,\n          isScrolling: isScrolling,\n          onChildScroll: onChildScroll,\n          scrollTop: scrollTop,\n          onRowsRendered: onRowsRendered,\n          width: width\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, _this);\n  };\n\n  var infiniteLoader = function infiniteLoader(_ref8) {\n    var height = _ref8.height,\n        isScrolling = _ref8.isScrolling,\n        onChildScroll = _ref8.onChildScroll,\n        scrollTop = _ref8.scrollTop;\n    return /*#__PURE__*/_jsxDEV(InfiniteLoader, {\n      isRowLoaded: isRowLoaded,\n      loadMoreRows: handleInfiniteOnLoad,\n      rowCount: data.length,\n      children: function children(_ref9) {\n        var onRowsRendered = _ref9.onRowsRendered;\n        return autoSize({\n          height: height,\n          isScrolling: isScrolling,\n          onChildScroll: onChildScroll,\n          scrollTop: scrollTop,\n          onRowsRendered: onRowsRendered\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"left\",\n      children: header\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(List, {\n      children: [data.length > 0 && /*#__PURE__*/_jsxDEV(WindowScroller, {\n        children: infiniteLoader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 37\n      }, _this), loading && /*#__PURE__*/_jsxDEV(Spin, {\n        className: \"demo-loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(FollowList, \"e2WPURhZO+vgWkProC5DhPL24KA=\");\n\n_c2 = FollowList;\nexport default FollowList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"FollowList\");","map":{"version":3,"sources":["/Users/sean/Projects/dayscore/front/components/FollowList.js"],"names":["React","useEffect","useState","List","message","Avatar","Spin","Divider","reqwest","WindowScroller","AutoSizer","VList","InfiniteLoader","UserOutlined","styled","Wrapper","div","fakeDataUrl","FollowList","header","followInfo","data","setData","loading","setLoading","loadedRowsMap","fetchData","res","results","callback","url","type","method","contentType","success","handleInfiniteOnLoad","startIndex","stopIndex","i","length","warning","isRowLoaded","index","renderItem","key","style","item","vlist","height","isScrolling","onChildScroll","scrollTop","onRowsRendered","width","autoSize","infiniteLoader"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { List, message, Avatar, Spin, Divider } from 'antd';\n\nimport reqwest from 'reqwest';\n\nimport WindowScroller from 'react-virtualized/dist/commonjs/WindowScroller';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport VList from 'react-virtualized/dist/commonjs/List';\nimport InfiniteLoader from 'react-virtualized/dist/commonjs/InfiniteLoader';\nimport {UserOutlined} from \"@ant-design/icons\";\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 70%;\n  margin: 10px;\n`;\n\nconst fakeDataUrl = 'https://randomuser.me/api/?results=5&inc=name,gender,email,nat&noinfo';\n\n\nconst FollowList = ({ header, followInfo }) => {\n    const [data, setData] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const loadedRowsMap = {};\n\n    useEffect(() => {\n        fetchData(res => {\n            setData(res.results);\n        });\n    }, []);\n\n    const fetchData = callback => {\n        reqwest({\n            url: fakeDataUrl,\n            type: 'json',\n            method: 'get',\n            contentType: 'application/json',\n            success: res => {\n                callback(res);\n            },\n        });\n    };\n\n    const handleInfiniteOnLoad = ({ startIndex, stopIndex }) => {\n        setLoading(true);\n        for (let i = startIndex; i <= stopIndex; i++) {\n            // 1 means loading\n            loadedRowsMap[i] = 1;\n        }\n        if (data.length > 19) {\n            message.warning('Virtualized List loaded all');\n            setLoading(false);\n            return;\n        }\n        fetchData(res => {\n            setData([...data, res.results]);\n            setLoading(false);\n        });\n    };\n\n    const isRowLoaded = ({ index }) => !!loadedRowsMap[index];\n\n    const renderItem = ({ index, key, style }) => {\n        const item = data[index];\n        return (\n            <List.Item key={key} style={style}>\n                <List.Item.Meta\n                    avatar={<Avatar icon={<UserOutlined />} />}\n                    title=\"a\"\n                    description=\"b\"\n                />\n                <div>언팔로우</div>\n            </List.Item>\n        );\n    };\n\n    const vlist = ({ height, isScrolling, onChildScroll, scrollTop, onRowsRendered, width }) => (\n        <VList\n            autoHeight\n            height={height}\n            isScrolling={isScrolling}\n            onScroll={onChildScroll}\n            overscanRowCount={2}\n            rowCount={data.length}\n            rowHeight={73}\n            rowRenderer={renderItem}\n            onRowsRendered={onRowsRendered}\n            scrollTop={scrollTop}\n            width={width}\n        />\n    );\n\n    const autoSize = ({ height, isScrolling, onChildScroll, scrollTop, onRowsRendered }) => (\n        <AutoSizer disableHeight>\n            {({ width }) =>\n                vlist({\n                    height,\n                    isScrolling,\n                    onChildScroll,\n                    scrollTop,\n                    onRowsRendered,\n                    width,\n                })\n            }\n        </AutoSizer>\n    );\n\n    const infiniteLoader = ({ height, isScrolling, onChildScroll, scrollTop }) => (\n        <InfiniteLoader\n            isRowLoaded={isRowLoaded}\n            loadMoreRows={handleInfiniteOnLoad}\n            rowCount={data.length}\n        >\n            {({ onRowsRendered }) =>\n                autoSize({\n                    height,\n                    isScrolling,\n                    onChildScroll,\n                    scrollTop,\n                    onRowsRendered,\n                })\n            }\n        </InfiniteLoader>\n    );\n\n    return (\n        <Wrapper>\n            <Divider orientation=\"left\">{header}</Divider>\n            <List>\n                {data.length > 0 && <WindowScroller>{infiniteLoader}</WindowScroller>}\n                {loading && <Spin className=\"demo-loading\" />}\n            </List>\n        </Wrapper>\n    )\n}\n\nexport default FollowList;"]},"metadata":{},"sourceType":"module"}